@using Blog.WebMvc.ViewModels
@model  BlogOkuViewModel
@{
    ViewBag.Title = "BlogOku";
    Layout = "~/Views/Shared/_DefaultLayout.cshtml";
}

<section class="banner-bottom">
        <!--/blog-->
        <div class="container">
            <div class="row">
                <!--left-->
                <div class="col-lg-8 left-blog-info-w3layouts-agileits text-left">
                    <div class="blog-grid-top">
                        <div class="b-grid-top">
                            <div class="blog_info_left_grid">
                                <a href="single.html">
                                    <img src="@Model.Post.Photo.PhotoPath" class="img-fluid" alt="">
                                </a>
                            </div>
                            <div class="blog-info-middle">
                                <ul>
                                    <li>
                                        <a href="#">
                                            <i class="far fa-calendar-alt"></i> @Model.Post.CreateDate.ToString("dd-MMM-yyy HH:mm")
                                        </a>
                                    </li>
                                    <li class="mx-2">
                                        <a href="#">
                                            <i class="far fa-thumbs-up"></i> @Model.Post.LikeCount Beğeni
                                        </a>
                                    </li>
                                    <li>
                                        <a href="#">
                                            <i class="far fa-comment"></i> @Model.Post.CommentCount Yorum
                                        </a>
                                    </li>

                                </ul>
                            </div>
                        </div>

                        <h3> @Model.Post.PostTitle
                        </h3>
                        <p>
                            @Model.Post.PostContent
                            
                        </p>
                        
                    </div>

                    <div class="comment-top">
                        <h4>Yorumlar</h4>
                        
                        @foreach (var comment in @Model.Comments)
                        {
                            <div class="media m-2">
                                <img src="@comment.User.UserPhotoThumpnailPath" alt="" class="img-fluid" />
                                <div class="media-body">
                                    <div> <b> @comment.CommentTitle</b> - <h8>  @comment.User.UserName&nbsp;@comment.User.UserLastName &nbsp;@((((DateTime)comment.CommentDateTime).ToString("f"))) </h8> </div>


                                    <p>
                                        @comment.CommentContent
                                    </p>
                                </div>
                            </div>
                        }

                    </div>
                    
                    

                    <div class="comment-top">
                        <h4>Leave a Comment</h4>
                        <div class="comment-bottom">
                            <form action="Comment" method="post">
                                <input class="form-control" type="text" name="Name" placeholder="Name" required="">
                                <input class="form-control" type="email" name="Email" placeholder="Email" required="">

                                <input class="form-control" type="text" name="Subject" placeholder="Subject" required="">

                                <textarea class="form-control" name="Message" placeholder="Message..." required=""></textarea>
                                <button type="submit" class="btn btn-primary submit">Submit</button>
                            </form>
                        </div>
                    </div>
                </div>

                <aside class="col-lg-4 agileits-w3ls-right-blog-con text-right">
                    <div class="right-blog-info text-left">
                        <div class="tech-btm">
                            <img src="images/banner1.jpg" class="img-fluid" alt="">
                        </div>
                        <div class="tech-btm">
                            @Html.Action("HaberBulteni","Subscripe",null)
                        </div>
                        
                        
                        <div class="tech-btm">
                            <h4> Yazarın Son Üç Yazısı</h4>
                            @foreach (var post in @Model.Last3PostsByWriterId)
                            {
                                <div class="blog-grids row mb-3">
                                    <div class="col-md-5 blog-grid-left">
                                        <a href="/Blog/BlogOku/@post.PostId">
                                            <img src="@post.Photo.PhotoTumbnail" class="img-fluid" alt="">
                                        </a>
                                    </div>
                                    <div class="col-md-7 blog-grid-right">

                                        <h5>
                                            <a href="/Blog/BlogOku/@post.PostId">@post.PostTitle</a>
                                        </h5>
                                        <div class="sub-meta">
                                            <span>
                                                <i class="far fa-clock"></i> @post.CreateDate
                                            </span>
                                        </div>
                                    </div>

                                </div>
       
                            }

                        </div>
                        
                        <hr/>
                        <div class="single-gd tech-btm">
                            <h4>@Model.Post.Category.CategoryName ait son yazılar </h4>
                            @foreach (var post in Model.Last3PostsByCategoryId)
                            {
                                
                            
                                <div class="blog-grids row mb-3">
                                    <div class="col-md-5 blog-grid-left">
                                        <a href="/Blog/BlogOku/@post.PostId">
                                            <img src="@post.Photo.PhotoTumbnail" class="img-fluid" alt="">
                                        </a>
                                    </div>
                                    <div class="col-md-7 blog-grid-right">

                                        <h5>
                                            <a href="/Blog/BlogOku/@post.PostId">@post.PostTitle</a>
                                        </h5>
                                        <div class="sub-meta">
                                            <span>
                                                <i class="far fa-clock"></i> @post.CreateDate
                                            </span>
                                        </div>
                                    </div>

                                </div>
                            }
                        </div>
                    </div>

                </aside>

            </div>
        </div>
</section>




